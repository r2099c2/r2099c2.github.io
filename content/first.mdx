# 利用 github-pages 搭建个人博客

## 1. 创建一个 github 仓库

官方文档: https://docs.github.com/zh/pages/quickstart

注意: 仓库名必须是 `username.github.io`，其中 `username` 是你的 github 用户名。否则无法使用 github-pages 服务。

创建完成后其实在对应的 `https://<yourUserName>.github.io` 就可以访问了。此时只是一个空白页面。

简单使用的话，可以放 `html` 或者 `markdown` 文件。

## 2. 创建一个 next.js 项目，并增强相关能力

官方文档：https://nextjs.org/docs/getting-started/installation

### 2.1 使用 MDX 能力

什么是 MDX:
https://mdxjs.com/

简单来说就是可以让你在 markdown 文件中写 JSX 代码。

安装依赖：

```bash
npm install @next/mdx @mdx-js/loader @mdx-js/react
```

在 `next.config.js` 中配置：

```js
// 允许 nextJs 识别 mdx 并作为组件处理
import nextMdx from '@next/mdx';

const withMdx = nextMdx({
  // By default only the `.mdx` extension is supported.
  extension: /\.mdx?$/,
  options: {
    /* otherOptions… */
  },
});

/** @type {import('next').NextConfig} */
const nextConfig = withMdx({
  // Support MDX files as pages:
  pageExtensions: ['md', 'mdx', 'tsx', 'ts', 'jsx', 'js'],
});

export default nextConfig;
```

### 2.2 利用 gray-matter 解析 markdown 文件的配置，增强能力

https://github.com/jonschlinkert/gray-matter

gray-matter 能做什么?

将：

```mdx
---
title: Hello
slug: home
---

<h1>Hello world!</h1>
```

解析成

```js
{
  data: {
    title: 'Hello',
    slug: 'home'
  },
  content: '<h1>Hello world!</h1>'
}
```

使用方式，安装依赖：

```bash
npm install gray-matter
```

```js
import matter from 'gray-matter';

const { data, content } = matter(markdownString);
```

## 3. 利用 Actions 自动部署 github-pages
